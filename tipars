#!/usr/bin/env python3

import argparse
import os


parser = argparse.ArgumentParser()

parser.add_argument("-t", "--tree", help = "tree file, in Newick format")
parser.add_argument("-q", "--query", help="fasta/vcf file contains one or multiple query seqence(s)")
parser.add_argument("-m", "--multationSequencesMapSer", help="multationSequencesMap serailized object path")
parser.add_argument("-i", "--seqIdxMapSer", help="seqIdxMap serialized object path")
parser.add_argument("-r", "--refSer", help="ref_sequence serialized object path")
parser.add_argument("-x", "--xmx", default="4G", help="Java Xmx setting, e.g.,1G,8G")

args = parser.parse_args()

exec_dir = os.path.dirname(__file__)
## print(exec_dir)

cmd = "java -jar -Xmx" + args.xmx + " " + exec_dir + "/TIPars.jar" + " " + \
      args.query + " " + \
      args.tree + " " + \
      args.multationSequencesMapSer + " " + \
      args.seqIdxMapSer + " " + \
      args.refSer

os.system(cmd)
